<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DFDA 1982 - Verified Field Tool</title>
    <style>
        :root { --n: #1a3a5f; --l: #b22222; --nt: #d5763e; --g: #2d5a27; }
        body { font-family: -apple-system, sans-serif; background: #f0f2f5; margin: 0; color: #333; }
        .h { position: sticky; top: 0; z-index: 9; background: var(--n); display: flex; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .tab { flex: 1; padding: 15px 5px; color: #fff; text-align: center; cursor: pointer; font-size: 10px; font-weight: bold; text-transform: uppercase; border-bottom: 4px solid transparent; }
        .tab.active { border-bottom: 4px solid var(--nt); background: rgba(255,255,255,0.1); }
        .cnt { max-width: 800px; margin: auto; padding: 15px; }
        .sb { width: 100%; padding: 15px; border: 2px solid #ccc; border-radius: 10px; font-size: 16px; margin-bottom: 15px; box-sizing: border-box; }
        .card { background: white; margin-bottom: 12px; border-radius: 8px; overflow: hidden; border-left: 6px solid var(--l); box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .power { border-left-color: var(--n); }
        .card-h { padding: 10px 15px; background: #f8f9fa; font-weight: bold; display: flex; justify-content: space-between; font-size: 13px; border-bottom: 1px solid #eee; }
        .card-b { padding: 12px 15px; font-size: 13px; line-height: 1.5; }
        .proof { display: block; margin-top: 8px; padding: 10px; background: #f9f9fb; border-radius: 4px; border-left: 3px solid #ddd; font-size: 12px; }
        .nt-map { border-left: 4px solid var(--nt); background: #fff4ed; padding: 12px; margin-bottom: 10px; border-radius: 6px; }
        .badge { font-size: 9px; padding: 2px 6px; border-radius: 4px; color: #fff; text-transform: uppercase; }
        .hidden { display: none !important; }
        b { color: var(--n); }
    </style>
</head>
<body>

<div class="h">
    <div id="t-leg" class="tab active" onclick="nav('leg')">DFDA Offences</div>
    <div id="t-pow" class="tab" onclick="nav('pow')">SP Powers</div>
    <div id="t-nt" class="tab" onclick="nav('nt')">NT Referral</div>
</div>

<div class="cnt">
    <div id="v-leg">
        <input type="text" class="sb" id="si" oninput="render()" placeholder="Search Section (e.g. 24, 60, Assault)...">
        <div id="out"></div>
    </div>
    <div id="v-pow" class="hidden"><div id="pow-out"></div></div>
    <div id="v-nt" class="hidden"><div id="nt-out"></div></div>
</div>

<script>
// VERIFIED DFDA 1982 DATABASE
const db = [
    {s:"15", t:"Reporting for Duty", c:"off", d:"Failing to report for duty/movement.", p:"<b>Elements:</b> (1) Requirement to report; (2) Knowledge of time/place; (3) Failed to report."},
    {s:"22", t:"Abandoning Post", c:"off", d:"Leaving post or watch w/o relief.", p:"<b>Elements:</b> (1) Assigned to post; (2) Left post; (3) Without relief. <b>Context:</b> Often used for Sentry/Guard breaches."},
    {s:"23", t:"Desertion", c:"off", d:"Absence with intent to remain absent permanently.", p:"<b>Proof:</b> Must prove specific intent to never return or avoid sensitive service."},
    {s:"24", t:"AWOL", c:"off", d:"Absence without leave.", p:"<b>Strict Liability:</b> Only need to prove the member was absent and it was unauthorized. Intent is not required."},
    {s:"25", t:"Malingering", c:"off", d:"Feigning or inducing sickness/disability.", p:"<b>Elements:</b> (1) Feigned/induced infirmity; (2) Intent to avoid duty."},
    {s:"26", t:"Assault on Superior", c:"off", d:"Violence or threats to superior officer.", p:"<b>Elements:</b> (1) Force/threat; (2) To superior; (3) Knowledge of status. <b>Superior:</b> Includes rank or appointment."},
    {s:"27", t:"Insubordinate Conduct", c:"off", d:"Threatening/insulting language to superior.", p:"<b>Proof:</b> Language must be heard by superior or intended for them."},
    {s:"28", t:"Disobeying Lawful Command", c:"off", d:"Failure to obey a specific, lawful command.", p:"<b>Threshold:</b> Command must relate to military duty and not be illegal."},
    {s:"29", t:"Failing to Comply w/ Orders", c:"off", d:"Breaching General/Standing orders.", p:"<b>Threshold:</b> Constructive knowledge (noticeboard/DI) is sufficient for proof."},
    {s:"30", t:"Assault on Subordinate", c:"off", d:"Superior assaulting or ill-treating subordinate.", p:"<b>Context:</b> Protective provision for junior members."},
    {s:"31", t:"Obstruction of SP", c:"off", d:"Hindering SP in execution of duty.", p:"<b>Threshold:</b> SP must be acting legally (Intra Vires)."},
    {s:"32", t:"Disorderly Conduct", c:"off", d:"Fighting or threatening behavior.", p:"<b>Context:</b> Likely to prejudice good order and discipline."},
    {s:"33", t:"Assault on Sentry", c:"off", d:"Assaulting person on guard/duty.", p:"<b>Elements:</b> Victim must be on duty; status must be known to accused."},
    {s:"33A", t:"Dangerous Weapons", c:"off", d:"Unauthorized possession/use of weapons.", p:"<b>Threshold:</b> Covers firearms, ammunition, and explosives."},
    {s:"34", t:"Looting", c:"off", d:"Theft in combat or disaster areas.", p:"<b>Context:</b> Operational environments increase the penalty."},
    {s:"35", t:"Wilful Damage", c:"off", d:"Intentionally damaging Service property.", p:"<b>Proof:</b> Property must be Cth-owned or Service-controlled."},
    {s:"36", t:"Negligent Damage", c:"off", d:"Damaging property via negligence.", p:"<b>Threshold:</b> Breach of specific duty of care/orders."},
    {s:"36A", t:"Loss of Service Property", c:"off", d:"Losing issued kit/property.", p:"<b>Threshold:</b> Onus of accounting for kit is on the member."},
    {s:"36B", t:"Unauthorized Use (Vehicle)", c:"off", d:"Using vehicle without Movement Order.", p:"<b>Threshold:</b> Deviation from route = Unauthorized use."},
    {s:"37", t:"Stealing", c:"off", d:"Theft of Service property.", p:"<b>Elements:</b> (1) Appropriation; (2) Intent to permanently deprive."},
    {s:"38", t:"Receiving", c:"off", d:"Receiving stolen service property.", p:"<b>Proof:</b> Accused knew/believed property was stolen."},
    {s:"39", t:"Dangerous Driving", c:"off", d:"Driving dangerously (Service Veh).", p:"<b>Threshold:</b> Objective test of danger to the public/passengers."},
    {s:"40", t:"DUI", c:"off", d:"Impaired driving (Service Veh).", p:"<b>Threshold:</b> 'Incapable of proper control' via alcohol or drugs."},
    {s:"40C", t:"Presence of Drug", c:"off", d:"Driving with drug in system.", p:"<b>Strict Liability:</b> Positive molecule result is an offence."},
    {s:"47P", t:"Possession of Drugs", c:"off", d:"Possessing drugs on Service premises.", p:"<b>Threshold:</b> Physical control + prohibited status."},
    {s:"48", t:"Narcotic Drugs", c:"off", d:"Use of prohibited drugs.", p:"<b>Threshold:</b> Confirmed via ADTP testing (Urine/Saliva)."},
    {s:"49", t:"Drunkenness", c:"off", d:"Intoxicated to prejudice of duty.", p:"<b>Threshold:</b> Incapable of performing duty or discredits ADF."},
    {s:"52", t:"Resistance to Arrest", c:"off", d:"Physical resistance to lawful arrest.", p:"<b>Threshold:</b> Valid s89 arrest must be in progress."},
    {s:"54", t:"False Statements", c:"off", d:"Making false official statements.", p:"<b>Threshold:</b> Accused knew statement was false at the time."},
    {s:"60", t:"Prejudicial Conduct", c:"off", d:"Conduct harming good order/discipline.", p:"<b>Threshold:</b> Must articulate 'Service Connection' and impact."},
    {s:"61", t:"Civil Offences", c:"off", d:"Criminal offences under civilian law.", p:"<b>Jurisdiction:</b> Allows DFDA to charge crimes against State/Cth law."},
    {s:"89", t:"Arrest Power", c:"pow", d:"Arrest without warrant.", p:"<b>Threshold:</b> Reasonable belief. Caution and grounds must be stated."},
    {s:"101", t:"Search Power", c:"pow", d:"Power to search persons.", p:"<b>Threshold:</b> Requires reasonable suspicion of offence evidence."},
    {s:"101A", t:"Search Vehicles", c:"pow", d:"Power to search Service vehicles.", p:"<b>Threshold:</b> Incident to duty or specific suspicion."}
];

function nav(id) {
    ['v-leg', 'v-pow', 'v-nt'].forEach(v => document.getElementById(v).classList.add('hidden'));
    ['t-leg', 't-pow', 't-nt'].forEach(t => document.getElementById(t).classList.remove('active'));
    document.getElementById('v-'+id).classList.remove('hidden');
    document.getElementById('t-'+id).classList.add('active');
    if(id==='pow') renderPow();
    if(id==='nt') renderNT();
}

function render() {
    const q = document.getElementById('si').value.toLowerCase();
    const out = document.getElementById('out');
    out.innerHTML = '';
    db.filter(x => (x.s.toLowerCase().includes(q) || x.t.toLowerCase().includes(q)) && x.c === 'off').forEach(x => {
        out.innerHTML += `<div class="card"><div class="card-h"><span>s${x.s}</span><span class="badge" style="background:var(--l)">Offence</span></div><div class="card-b"><b>${x.t}</b><br>${x.d}<div class="proof">${x.p}</div></div></div>`;
    });
}

function renderPow() {
    const out = document.getElementById('pow-out');
    out.innerHTML = '<h3>Service Police Powers (DFDA 1982)</h3>';
    db.filter(x => x.c === 'pow').forEach(x => {
        out.innerHTML += `<div class="card power"><div class="card-h"><span>s${x.s}</span><span class="badge" style="background:var(--n)">Power</span></div><div class="card-b"><b>${x.t}</b><br>${x.d}<div class="proof">${x.p}</div></div></div>`;
    });
}

function renderNT() {
    const out = document.getElementById('nt-out');
    out.innerHTML = '<h3>NT Referral Mapping</h3>';
    const mapping = [
        {n:"Assault (s188 CC)", a:"s26 (Superior) or s30 (Subord)"},
        {n:"Disorderly (s47 SOA)", a:"s32 (Disorderly)"},
        {n:"Stealing (s210 CC)", a:"s37 (Stealing)"},
        {n:"DUI (s29 Traffic Act)", a:"s40 (DUI)"}
    ];
    mapping.forEach(m => {
        out.innerHTML += `<div class="nt-map"><strong>NT: ${m.n}</strong><br><b>DFDA 1982:</b> ${m.a}</div>`;
    });
}

window.onload = render;
</script>
</body>
</html>
