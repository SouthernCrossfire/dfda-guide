<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DFDA & NT Pro - Integrated Suite</title>
    <style>
        :root { --navy: #1a3a5f; --law: #b22222; --nt: #d5763e; --cth: #444; }
        body { font-family: -apple-system, sans-serif; background: #f0f2f5; margin: 0; padding: 0; }
        .header-nav { position: sticky; top: 0; z-index: 999; background: var(--navy); }
        .tab-bar { display: flex; }
        .tab { flex: 1; padding: 16px 5px; text-align: center; color: #fff; cursor: pointer; font-weight: bold; font-size: 11px; border-bottom: 4px solid transparent; text-transform: uppercase; }
        .tab.active { border-bottom: 4px solid var(--nt); background: rgba(255,255,255,0.1); }
        .container { max-width: 750px; margin: auto; padding: 15px; padding-bottom: 80px; }
        .search-box, .select-input { width: 100%; padding: 15px; border: 2px solid #ccc; border-radius: 10px; font-size: 16px; margin-bottom: 15px; box-sizing: border-box; }
        .card { background: white; margin-bottom: 15px; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.1); border-left: 8px solid var(--navy); }
        .card.offence { border-left-color: var(--law); }
        .card.cth { border-left-color: var(--cth); }
        .card-header { padding: 12px 15px; background: #f8f9fa; font-weight: bold; color: var(--navy); display: flex; justify-content: space-between; align-items: center; }
        .card-body { padding: 15px; font-size: 13px; line-height: 1.6; }
        .legal-detail { color: #111; font-size: 12.5px; margin-top: 10px; display: block; border-top: 1px solid #eee; padding: 12px; background: #f9f9f9; border-radius: 4px; }
        .nt-box { background: #fff4ed; padding: 15px; border-radius: 8px; border: 1px solid var(--nt); margin-top: 10px; border-left: 5px solid var(--nt); }
        .badge { color: white; padding: 3px 10px; border-radius: 12px; font-size: 10px; text-transform: uppercase; }
        .bg-offence { background: var(--law); }
        .bg-power { background: var(--navy); }
        .bg-cth { background: var(--cth); }
        textarea { width: 100%; margin-top: 10px; border: 1px solid #ddd; border-radius: 6px; padding: 10px; background: #fffdf0; box-sizing: border-box; }
        .hidden { display: none !important; }
        h4 { margin: 0 0 10px 0; color: var(--nt); text-transform: uppercase; font-size: 12px; }
    </style>
</head>
<body>

<div class="header-nav"><div class="tab-bar">
    <div id="t-nt" class="tab active" onclick="nav('nt')">NT -> ADF Mapping</div>
    <div id="t-ref" class="tab" onclick="nav('ref')">Legislation Detail</div>
    <div id="t-samdf" class="tab" onclick="nav('samdf')">SAMDF Powers</div>
</div></div>

<div class="container">
    <div id="v-nt">
        <select class="select-input" id="ntSel" onchange="updateNT()">
            <option value="">-- Select NT Offence --</option>
            <option value="assault">Common Assault (NT CC s188)</option>
            <option value="disorderly">Disorderly Conduct (NT SOA s47)</option>
            <option value="stealing">Stealing (NT CC s210)</option>
            <option value="dui">DUI (NT Traffic Act s29)</option>
            <option value="drugs">Drug Possession (NT MDA s12)</option>
            <option value="trespass">Trespass (NT Trespass Act s5)</option>
        </select>
        <div id="ntRes"></div>
    </div>

    <div id="v-ref" class="hidden">
        <input type="text" class="search-box" id="searchInp" oninput="runSearch()" placeholder="Search s22-s89A or Crimes Act...">
        <div id="searchRes"></div>
    </div>

    <div id="v-samdf" class="hidden">
        <div class="card">
            <div class="card-header">SAMDF / DPA Powers</div>
            <div class="card-body">
                <strong>s72P: Demand for Identification</strong><br>
                Authority to demand Name, Address, and Business in the DPA. 
                <br><br><strong>s72R: Search of Person/Vehicle</strong><br>
                Power to search clothing and vehicles entering/exiting.
                <div class="nt-box"><b>Arrest of Trespassers:</b> Refer to <b>Crimes Act s89A</b> for authority to detain civilians on Cth land until NT Police arrival.</div>
            </div>
        </div>
    </div>
</div>

<script>
const data = [
    {s:"s24", t:"AWOL", c:"offence", d:"Absence from duty.", l:"<b>Proof:</b> (1) Member absent; (2) Unauthorized. <b>Threshold:</b> Strict Liability. Only defense is Honest/Reasonable mistake."},
    {s:"s26", t:"Assaulting Superior", c:"offence", d:"Violence against superior.", l:"<b>Proof:</b> (1) Assault; (2) Victim is superior; (3) Status known. <b>Threshold:</b> Higher penalty if superior is on duty."},
    {s:"s31", t:"Obstructing SP", c:"offence", d:"Resisting Service Police.", l:"<b>Proof:</b> (1) Hindrance; (2) SP in execution of duty. <b>Threshold:</b> Action must be 'intra vires'."},
    {s:"s37", t:"Stealing", c:"offence", d:"Theft of service property.", l:"<b>Proof:</b> (1) Appropriation; (2) Intent to deprive. <b>Threshold:</b> Property must be Cth/Defence owned."},
    {s:"s40", t:"DUI", c:"offence", d:"Impaired driving.", l:"<b>Proof:</b> (1) Operation of vehicle; (2) Alcohol/Drug impairment. <b>Threshold:</b> Incapable of proper control."},
    {s:"s60", t:"Prejudicial Conduct", c:"offence", d:"Prejudice to good order.", l:"<b>Proof:</b> (1) Act/Omission; (2) Prejudices discipline. <b>Threshold:</b> Must prove 'Service Connection'."},
    {s:"s89", t:"Arrest Power (SP)", c:"power", d:"Arrest without warrant.", l:"<b>Threshold:</b> Reasonable belief. Requires immediate caution and grounds explanation."},
    {s:"Crimes s89", t:"Trespass (Cth)", c:"cth", d:"Entry to Cth land.", l:"<b>Proof:</b> (1) Cth Land; (2) Entry/Remain. <b>Threshold:</b> Onus on defendant to prove 'Lawful Excuse'."},
    {s:"Crimes s89A", t:"Weapons (Cth)", c:"cth", d:"Weapons on Cth land.", l:"<b>Proof:</b> (1) Cth Land; (2) Weapon/Explosive. <b>Threshold:</b> High-risk offence for civilians on base."}
];

function nav(id) {
    ['v-ref', 'v-nt', 'v-samdf'].forEach(v => document.getElementById(v).classList.add('hidden'));
    document.getElementById('v-' + id).classList.remove('hidden');
    ['t-ref', 't-nt', 't-samdf'].forEach(t => document.getElementById(t).classList.remove('active'));
    document.getElementById('t-' + id).classList.add('active');
}

function runSearch() {
    const q = document.getElementById('searchInp').value.toLowerCase().trim();
    const out = document.getElementById('searchRes');
    out.innerHTML = '';
    data.filter(i => i.s.toLowerCase().includes(q) || i.t.toLowerCase().includes(q)).forEach(i => {
        out.innerHTML += `<div class="card ${i.c}"><div class="card-header"><span>${i.s}</span><span class="badge bg-${i.c}">${i.c}</span></div><div class="card-body"><strong>${i.t}</strong><br>${i.d}<span class="legal-detail">${i.l}</span><textarea placeholder="Field notes..."></textarea></div></div>`;
    });
}

function updateNT() {
    const v = document.getElementById('ntSel').value;
    const res = document.getElementById('ntRes');
    const mapping = {
        'assault': {adf: 'DFDA s26 or s33', detail: 'If victim is a superior, use s26. If victim is a sentry/duty person, use s33.'},
        'disorderly': {adf: 'DFDA s32', detail: 'Likely to cause breach of discipline. Use for fights or offensive conduct on base.'},
        'stealing': {adf: 'DFDA s37', detail: 'Applies to Service Property. If civilian property, refer to Crimes Act/NT Law.'},
        'dui': {adf: 'DFDA s40', detail: 'Applies to Service Vehicles. For civilian vehicles on public roads, refer to NT Traffic Act.'},
        'drugs': {adf: 'DFDA s47P / s48', detail: 'Strict liability for possession on service premises.'},
        'trespass': {adf: 'Crimes Act 1914 s89', detail: 'Use Crimes Act for civilians. Use DFDA s89A for arrest authority.'}
    };
    const selection = mapping[v];
    res.innerHTML = selection ? `<div class="nt-box"><h4>ADF EQUIVALENT: ${selection.adf}</h4>${selection.detail}</div>` : '';
}

window.onload = runSearch;
</script>
</body>
</html>
