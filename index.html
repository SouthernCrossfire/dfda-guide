<script>
    function runWep() {
        const val = document.getElementById('wepSel').value;
        const out = document.getElementById('wepRes');
        
        const map = {
            flick: { 
                t: "Prohibited (Schedule 1)", 
                d: "Flick knives, gravity knives, or butterfly knives (balisongs).", 
                img: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4e/Switchblade_knife.jpg/640px-Switchblade_knife.jpg",
                alt: "[Visual: Folding knife with a button-release spring mechanism]"
            },
            knuckle: { 
                t: "Prohibited (Schedule 1)", 
                d: "Knuckle dusters or weighted gloves designed for combat.", 
                img: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Cestus-KnuckleDuster.jpg/640px-Cestus-KnuckleDuster.jpg",
                alt: "[Visual: Metal frame designed to fit over the knuckles]"
            },
            oc: { 
                t: "Prohibited (Schedule 1)", 
                d: "OC (Oleoresin Capsicum) spray or similar irritants.", 
                img: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d6/OC_spray_canister.jpg/320px-OC_spray_canister.jpg",
                alt: "[Visual: Small handheld aerosol canister with safety trigger]"
            },
            taser: { 
                t: "Prohibited (Schedule 1)", 
                d: "Conducted Energy Devices (CEDs) or Tasers.", 
                img: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/13/Taser_X26.jpg/640px-Taser_X26.jpg",
                alt: "[Visual: Pistol-shaped device with yellow/black markings]"
            }
        };

        if (val) {
            out.innerHTML = `
                <div class="nt-box">
                    <strong>${map[val].t}</strong>
                    <p>${map[val].d}</p>
                    <img src="${map[val].img}" 
                         class="wep-img" 
                         alt="${map[val].alt}" 
                         onerror="this.style.display='none'; document.getElementById('img-fail').classList.remove('hidden');">
                    <div id="img-fail" class="hidden" style="color:#b22222; font-size:12px; margin-top:10px;">
                        ⚠️ Image blocked by host. <br><em>${map[val].alt}</em>
                    </div>
                </div>`;
        } else {
            out.innerHTML = "";
        }
    }
</script>
