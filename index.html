<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DFDA Field Guide</title>
    <style>
        :root { --army-green: #2e3b23; --navy-blue: #1a3a5f; --raaf-blue: #5d97c1; }
        body { font-family: -apple-system, sans-serif; background: #eceff1; margin: 0; padding: 15px; }
        .container { max-width: 600px; margin: auto; }
        header { background: var(--navy-blue); color: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; text-align: center; }
        input { width: 100%; padding: 15px; margin-bottom: 20px; border-radius: 25px; border: 1px solid #ccc; box-sizing: border-box; font-size: 16px; }
        .card { background: white; padding: 15px; margin-bottom: 15px; border-radius: 10px; border-left: 6px solid var(--army-green); box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        .s-num { font-weight: bold; color: #d32f2f; font-size: 1.1em; }
        .cat { font-size: 0.7em; background: #ddd; padding: 2px 8px; border-radius: 10px; float: right; }
        textarea { width: 100%; margin-top: 10px; border: 1px dashed #ccc; border-radius: 5px; padding: 8px; box-sizing: border-box; font-size: 0.85em; background: #fffde7; }
        .footer { text-align: center; font-size: 0.8em; color: #666; margin-top: 20px; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h2 style="margin:0">DFDA 1982 Reference</h2>
        <small>Offences, Powers & Discipline</small>
    </header>

    <input type="text" id="searchInput" onkeyup="render()" placeholder="Search Section, Offence or Power...">
    
    <div id="results"></div>

    <div class="footer">Confidentiality Note: Notes are stored locally on this device.</div>
</div>

<script>
    const dfdaData = [
        // OFFENCES
        { s: "s25", cat: "Offence", title: "Desertion", desc: "Absenting oneself with the intention of not returning to the ADF." },
        { s: "s33", cat: "Offence", title: "Assaulting a Superior", desc: "Physical assault or threatening behavior toward a superior officer." },
        { s: "s56", cat: "Offence", title: "Losing Service Property", desc: "Losing, damaging, or destroying service property through neglect." },
        { s: "s60", cat: "Offence", title: "Prejudicial Conduct", desc: "The 'General Offence'. Conduct to the prejudice of good order and discipline." },
        { s: "s61", cat: "Offence", title: "Territory Offences", desc: "Crimes under ACT law (theft, serious assault) applicable to service members." },
        
        // POWERS / POLICE
        { s: "s87", cat: "Power", title: "Arrest without Warrant", desc: "Authority for service police and certain members to arrest based on reasonable belief." },
        { s: "s101", cat: "Power", title: "Search of Person", desc: "Power to search a person under arrest or in specific service environments." },
        { s: "s101AA", cat: "Power", title: "Entry and Search", desc: "Power to enter service premises and search for evidence." },
        
        // SUMMARY AUTHORITIES
        { s: "s106", cat: "Legal", title: "Summary Authority", desc: "Definitions of Superior and Subordinate Summary Authorities." },
        { s: "s130", cat: "Legal", title: "Right to Elect Court Martial", desc: "The right of an accused to choose a higher tribunal over a summary hearing." }
    ];

    function saveNote(section, note) {
        localStorage.setItem('note-' + section, note);
    }

    function render() {
        const query = document.getElementById('searchInput').value.toLowerCase();
        const resultsDiv = document.getElementById('results');
        resultsDiv.innerHTML = '';

        dfdaData.filter(item => 
            item.title.toLowerCase().includes(query) || 
            item.s.toLowerCase().includes(query) || 
            item.desc.toLowerCase().includes(query)
        ).forEach(item => {
            const savedNote = localStorage.getItem('note-' + item.s) || '';
            resultsDiv.innerHTML += `
                <div class="card">
                    <span class="cat">${item.cat}</span>
                    <div style="margin-bottom:8px;"><span class="s-num">${item.s}</span> - <strong>${item.title}</strong></div>
                    <div style="font-size:0.9em; line-height:1.4;">${item.desc}</div>
                    <textarea placeholder="Add your notes/case logs here..." oninput="saveNote('${item.s}', this.value)">${savedNote}</textarea>
                </div>
            `;
        });
    }

    render();
</script>
</body>
</html>